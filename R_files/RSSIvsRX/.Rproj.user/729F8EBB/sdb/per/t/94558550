{
    "collab_server" : "",
    "contents" : "# Year: 2017\n# Title: Test Lineare, due raspberry pi e dispositivi a distanze note (1, 2, 4, 5)\n# Goal: Capire dipendenza tra rssi e rx\n# Author: Edoardo Longo\n#\n# \n\n# Define your working directory\n# Ensure to use the forward / slash\nsetwd(\"/Users/edoardesd/Documents/R_files\")\ngetwd()\n\n#es: DATASET: timestamp | rssi |  rx\n#               12:24:23|  -10 | -68\n\n#INIZIO IMPORT\nrequire(ggplot2)\nrequire(gridExtra)\nrequire(grid)\nlibrary(readr)\nLG_1METRO_RASP2 <- read_csv(\"~/Documents/R_files/RSSIvsRX/data/LG_1METRO_RASP2.csv\")\nLG_2METRO_RASP2 <- read_csv(\"~/Documents/R_files/RSSIvsRX/data/LG_2METRO_RASP2.csv\")\nLG_4METRO_RASP2 <- read_csv(\"~/Documents/R_files/RSSIvsRX/data/LG_4METRO_RASP2.csv\")\nLG_5METRO_RASP2 <- read_csv(\"~/Documents/R_files/RSSIvsRX/data/LG_5METRO_RASP2.csv\")\n\n#LG  RASPBERRY PI 2\n#Inizio con lui perchè mi ha dato più valori\n\n################# 1 METRO ##################\n#\n# CREAZIONE ISTOGRAMMA: \n#  Per l'rssi ci si assesta sullo 0 praticamente fisso\n# Per Rx sono molto variabili, ho 2/3 picchi\nLG_1metro_r2_rx.tab <- table(LG_1METRO_RASP2$rx)\nLG_1metro_r2_rssi.tab <- table(LG_1METRO_RASP2$rssi)\nLG_1metro_r2_rx.tab\nLG_1metro_r2_rssi.tab\n\n#VISUALIZZO LE FREQUENZE\npar(mfrow=c(1,2)) #2 righe, 1 colonna\nbarplot(LG_1metro_r2_rssi.tab, \n        xlab = \"RSSI\", ylab = \"Frequency\", main = \"1m LG RSSI rasp2\")\nbarplot(LG_1metro_r2_rx.tab,\n        xlab = \"RX\", ylab = \"Frequency\", main = \"1m LG RX rasp2\")\npar(mfrow=c(1,1))\n#VISUALIZZO L'ANDAMENTO TEMPORALE\n#Come già si notava dall'istogramma delle frequenze, l'rssi rimane sempre abbastanza stabile su 1metro \n# con qualche piccola variazione (probabilmente il suo GRPR è 1 metro circa). -> tipo rasp1\n# RX molto variabile\nggplot(data = LG_1METRO_RASP2, aes(x = timestamp, y = rx, color=rx)) + geom_line() + ggtitle(\"1metro LG  Rasp2 RX nel tempo\")\nggplot(data = LG_1METRO_RASP2, aes(x = timestamp, y = rssi, color=rx)) + geom_line() +ggtitle(\"1metro LG  Rasp2 RSSI nel tempo\")\n\n#INIZIO FASE DI PLOT\n#Prima fase, rx asse x e rssi asse y -> vedere come si comportano nello stesso secondo\n#\n#CONFRONTO RX (asse x) VS (RSSI, asse y)\n#Come era abbastanza ovvio, mi trovo praticamente fisso sullo 0\nggplot(data = LG_1METRO_RASP2,aes(x = rx,y = rssi)) + stat_sum(color=\"darkred\") + ggtitle(\"1metro LG  Rasp2 RX vs RSSI\")\n\n\n################# 2 METR1 ##################\n#\n# CREAZIONE ISTOGRAMMA: \n# Picco su 0 per rssi -> buono \n# Rx questa volta a campana su -70/-71-> buono\nLG_2metro_r2_rx.tab <- table(LG_2METRO_RASP2$rx)\nLG_2metro_r2_rssi.tab <- table(LG_2METRO_RASP2$rssi)\nLG_2metro_r2_rx.tab\nLG_2metro_r2_rssi.tab\n\n#VISUALIZZO LE FREQUENZE\npar(mfrow=c(1,2)) #2 righe, 1 colonna\nbarplot(LG_2metro_r2_rssi.tab, \n        xlab = \"RSSI\", ylab = \"Frequency\", main = \"2m LG  RSSI rasp2\")\nbarplot(LG_2metro_r2_rx.tab,\n        xlab = \"RX\", ylab = \"Frequency\", main = \"2m LG  RX rasp2\")\npar(mfrow=c(1,1))\n#VISUALIZZO L'ANDAMENTO TEMPORALE\n# Fisso su 0 praticamente\n# RX meno variabile rispetto a prima\np1<-ggplot(data = LG_2METRO_RASP2, aes(x = timestamp, y = rx, color=rx)) + geom_line() + ggtitle(\"2metri LG  Rasp2 RX nel tempo\")\np2<-ggplot(data = LG_2METRO_RASP2, aes(x = timestamp, y = rssi, color=rx)) + geom_line() +ggtitle(\"2metri LG  Rasp2 RSSI nel tempo\")\np1\np2\n\n#INIZIO FASE DI PLOT\n#Prima fase, rx asse x e rssi asse y -> vedere come si comportano nello stesso secondo\n#\n#CONFRONTO RX (asse x) VS (RSSI, asse y)\n#Come era abbastanza ovvio, mi trovo praticamente fisso sullo 0\nggplot(data = LG_2METRO_RASP2,aes(x = rx,y = rssi)) + stat_sum(color=\"darkred\") + ggtitle(\"2metr1 LG  Rasp2 RX vs RSSI\") \n\n\n\n################# 4 METR1 ##################\n#\n# CREAZIONE ISTOGRAMMA: \n# si nota un andamento a campana un po' storpia, ma sembra abbastanza buono comunque\nLG_4metro_r2_rx.tab <- table(LG_4METRO_RASP2$rx)\nLG_4metro_r2_rssi.tab <- table(LG_4METRO_RASP2$rssi)\nLG_4metro_r2_rx.tab\nLG_4metro_r2_rssi.tab\n\n#VISUALIZZO LE FREQUENZE\npar(mfrow=c(1,2)) #2 righe, 1 colonna\nbarplot(LG_4metro_r2_rssi.tab, \n        xlab = \"RSSI\", ylab = \"Frequency\", main = \"4m LG  RSSI rasp2\")\nbarplot(LG_4metro_r2_rx.tab,\n        xlab = \"RX\", ylab = \"Frequency\", main = \"4m LG  RX rasp2\")\npar(mfrow=c(1,1))\n#VISUALIZZO L'ANDAMENTO TEMPORALE\n# Tutto molto variabile\nggplot(data = LG_4METRO_RASP2, aes(x = timestamp, y = rx, color=rx)) + geom_line() + ggtitle(\"4metri LG  Rasp2 RX nel tempo\")\nggplot(data = LG_4METRO_RASP2, aes(x = timestamp, y = rssi, color=rx)) + geom_line() +ggtitle(\"4metri LG  Rasp2 RSSI nel tempo\")\n\n#INIZIO FASE DI PLOT\n#Prima fase, rx asse x e rssi asse y -> vedere come si comportano nello stesso secondo\n# \n#CONFRONTO RX (asse x) VS (RSSI, asse y)\n# Come era già successo sembra fissarsi su una zona più che su una retta\nggplot(data = LG_4METRO_RASP2,aes(x = rx,y = rssi)) + stat_sum(color=\"darkred\") + ggtitle(\"4metri LG  Rasp2 RX vs RSSI\")\n\n\n################# 5 METR1 ##################\n#\n# CREAZIONE ISTOGRAMMA: \n#l'rssi si torna a fissarsi su 0 inspiegabilmente\n# RX ha un paio di picchi, si potrebbe intuire una campana\nLG_5metro_r2_rx.tab <- table(LG_5METRO_RASP2$rx)\nLG_5metro_r2_rssi.tab <- table(LG_5METRO_RASP2$rssi)\nLG_5metro_r2_rx.tab\nLG_5metro_r2_rssi.tab\n\n#VISUALIZZO LE FREQUENZE\npar(mfrow=c(1,2)) #2 righe, 1 colonna\nbarplot(LG_5metro_r2_rssi.tab, \n        xlab = \"RSSI\", ylab = \"Frequency\", main = \"5m LG  RSSI rasp2\")\nbarplot(LG_5metro_r2_rx.tab,\n        xlab = \"RX\", ylab = \"Frequency\", main = \"5m LG  RX rasp2\")\npar(mfrow=c(1,1))\n#VISUALIZZO L'ANDAMENTO TEMPORALE\n# Tutto molto variabile\nggplot(data = LG_5METRO_RASP2, aes(x = timestamp, y = rx, color=rx)) + geom_line() + ggtitle(\"5metri LG  Rasp2 RX nel tempo\")\nggplot(data = LG_5METRO_RASP2, aes(x = timestamp, y = rssi, color=rx)) + geom_line() +ggtitle(\"5metri LG  Rasp2 RSSI nel tempo\")\n\n#INIZIO FASE DI PLOT\n#Prima fase, rx asse x e rssi asse y -> vedere come si comportano nello stesso secondo\n# \n#CONFRONTO RX (asse x) VS (RSSI, asse y)\n# Come era già successo sembra fissarsi su una zona più che su una retta\n# Ma tutto molto sparso\nggplot(data = LG_5METRO_RASP2,aes(x = rx,y = rssi)) + stat_sum(color=\"darkred\") + ggtitle(\"5metri LG  Rasp2 RX vs RSSI\")\n\n\n################# FUSIONE ##################\n# I valori dell'rx danno sembrano essere più precisi soprattutto nelle distanze di 1 e 2 metri\n# 3 e 4 metri sono abbastanza sovrapposti\n# L'rssi sembra abbastanza confusionario\n\n\nLG_1METRO_RASP2$distance <- \"1\"\nLG_2METRO_RASP2$distance <- \"2\"\nLG_4METRO_RASP2$distance <- \"4\"\nLG_5METRO_RASP2$distance <- \"5\"\nvisual_lg_rasp2 <- rbind(LG_1METRO_RASP2, LG_2METRO_RASP2, LG_4METRO_RASP2, LG_5METRO_RASP2)\n\np_rasp2 <- ggplot(visual_lg_rasp2, aes(x=rx, y=rssi, color=distance)) + stat_sum() \np_rasp2 + scale_color_manual(breaks = c(\"1\", \"2\", \"4\", \"5\"),  values=c(\"green\", \"violet\", \"blue\", \"red\")) + ggtitle(\"LG  - RASP2 - Impronta in base alla distanza\")\n\n################# BOXPLOT ##################\n#Boxplot standard con mediana (valore in mezzo alla distribuzione), primo e terzo quartile\n#Per l'LG da risultati sperati sia l'RX che RSSI andando a decrescere al variare della distanza\nboxplot(LG_1METRO_RASP2$rssi, LG_2METRO_RASP2$rssi, LG_4METRO_RASP2$rssi, LG_5METRO_RASP2$rssi, \n        xlab=\"Distance\", ylab=\"RSSI\", las=1, col=topo.colors(4), main=\"RSSI LG per distanza RASP 2\")\n\nboxplot(LG_1METRO_RASP2$rx, LG_2METRO_RASP2$rx, LG_4METRO_RASP2$rx, LG_5METRO_RASP2$rx,\n        xlab=\"Distance\", ylab=\"RX\", las=1, col=topo.colors(4), main=\"RX LG per distanza RASP 2\")\n\n\n#Boxplot con media e deviazione standard\n\n#function for computing mean, DS, max and min values\nmin.mean.sd.max <- function(x) {\n  r <- c(min(x), mean(x) - sd(x), mean(x), mean(x) + sd(x), max(x))\n  names(r) <- c(\"ymin\", \"lower\", \"middle\", \"upper\", \"ymax\")\n  r\n}\n\nbplot_lg2_rssi <- ggplot(aes(y = rssi, x = factor(distance), color= distance), data = visual_lg_rasp2)\nbplot_lg2_rssi <- bplot_lg2_rssi + stat_summary(fun.data = min.mean.sd.max, geom = \"boxplot\") + geom_jitter(position=position_jitter(width=.2), size=3)\nbplot_lg2_rssi <- bplot_lg2_rssi + ggtitle(\"LG RASP 2: RSSI media, st dev +/- media\") + xlab(\"Distanza\") + ylab(\"RSSI\") + scale_color_manual(breaks = c(\"1\", \"2\", \"4\", \"5\"),values=c(\"darkgreen\", \"darkviolet\", \"darkblue\", \"darkred\"))\nbplot_lg2_rssi\n\nbplot_lg2_rx <- ggplot(aes(y = rx, x = factor(distance), color= distance), data = visual_lg_rasp2)\nbplot_lg2_rx <- bplot_lg2_rx + stat_summary(fun.data = min.mean.sd.max, geom = \"boxplot\") + geom_jitter(position=position_jitter(width=.2), size=3)\nbplot_lg2_rx <-bplot_lg2_rx + ggtitle(\"LG RASP 2: RX media, st dev +/- media\") + xlab(\"Distanza\") + ylab(\"RX\") + scale_color_manual(breaks = c(\"1\", \"2\", \"4\", \"5\"),values=c(\"lightgreen\", \"violet\", \"lightblue\", \"darkorange\"))\nbplot_lg2_rx\ngrid.arrange(bplot_lg2_rssi, bplot_lg2_rx, widths=c(0.5, 0.5), ncol=2)\n\n#In generale l'rx sembra comportarsi meglio in base alla distanza\n#soprattutto per quanto riguarda l'rssi da risultati abbastanza decenti\n#\n\n",
    "created" : 1498497053795.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1414551744",
    "id" : "94558550",
    "lastKnownWriteTime" : 1497885814,
    "last_content_update" : 1497885814,
    "path" : "~/Documents/R_files/RSSIvsRX/script/lg_corridoio_rasp2.R",
    "project_path" : "script/lg_corridoio_rasp2.R",
    "properties" : {
    },
    "relative_order" : 6,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}